<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">


<title>2 videos</title>
<head>
<style>
body {height:100%}
vcon {width: 375px}
</style>
</head>
<body>  
	<div class="vcon">
    <video id="v1" width="100%" height="100%" muted="muted" x-webkit-airplay="true" webkit-playsinline playsinline autoplay="autoplay" preload="none" controls="controls" ></video>
    </div>
    <div class="vcon">
    <video id="v2" width="100%" height="100%" muted="muted" x-webkit-airplay="true" webkit-playsinline playsinline preload="auto" controls="controls"></video>
	</div>	 
	<div id="sw" style=" height:30px; margin:20px; border:10px solid #888">
    switch player2 src
	</div>
    <div id="msg" style=" height:100px; margin:20px; border:10px solid #888">
    tap to play
    </div>
    <script>

    	var $e = function(id){
           return document.getElementById.call(document, id);
        };
    	var src1 = "/images/beach.mp4";
        var src2 = "/images/vr.mp4";
        var bksrc = "/images/beach.mp4";
    	var msg = $e("msg");
        var v1 = $e("v1");
        var v2 = $e("v2");
            v2.src = src2;
            v1.src = src1;
        v1.addEventListener("playing", function(){
            //v2.src = bksrc;
            //msg.innerHTML += "v2 play taylor; ";
        });
    	
        $e("sw").addEventListener("click", function(){
            v2.autoplay = true;
            v2.src = bksrc;
            msg.innerHTML += "v2.src = bksrc; ";
        });

        //必须有用户点击行为才能出发视频播放
    	msg.addEventListener("click", function(){
            //这里两个视频会同时loading
            
            v2.play();
            
            v1.play();
    		setTimeout(function(){
                v2.autoplay = true;
                v2.src = src2;
                msg.innerHTML += "v2.src = bksrc; ";
            }, 3000);
            
    		msg.innerHTML += "v1 v2 play; ";
    	});
    </script>  
</body>  
</html> 
